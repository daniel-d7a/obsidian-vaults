
---
title: ุงูู ูู ุงู updater function ูู useState?

pubDate: 2024-12-28

intro: ุชุนุงูู ูุดูู ููุฒุฉ ูููุฉ ุฌุฏุง ูู ุงู useState hook ู ูุดูู ุงุฒุงู ููุฏุฑ ูุณุชุฎุฏููุง ู ุจุชููุฏูุง ู ุงูู

tags: ["react", "hooks"]

author: eyad

image: "@/assets/blogs/the story of ts.jpg"

references: ["https://react.dev/learn/state-as-a-snapshot", "https://react.dev/learn/queueing-a-series-of-state-updates"]

---


ูู ุงูููุงูุฉ ุฏู ููุชููู ุนู ุดููุฉ ุฎุตุงุฆุต ูู ุงู use state hook ู ูููู ุงุฒุงู ููุฏุฑ ูุณุชุฎุฏูู ุจุงุญุณู ุดูู ูููู. 

## ุงู updater function.

ูููุง ุนุงุฑููู ุงูู ุจูุณุชุฎุฏู ุนุดุงู ูุญูุธ ุงูุฏุงุชุง ุฌูู ุงู components ุจุชุงุนุชูุง ุนู ุทุฑูู ุงูู ุจูุฑุฌุนูู variable ุดุงูู ุงูุฏุงุชุง ู setter function ุนุดุงู ุชุบูุฑ ุจููุง ุงูุฏุงุชุง ู ุชุนูู rerender ูู component ุจุงูุดูู ุงูุชุงูู:

```ts
const [counter, setCounter] = useState()
```

ุงู setter function ูููู ุชุณุชุฎุฏููุง ุจุทุฑููุชูู ูุง ุงูุง ุงูู ุชุฏููุง ุงููููุฉ ุงูุฌุฏูุฏุฉ ุจุดูู ูุจุงุดุฑ ุฒู ูุฏู:

```ts
setCounter(10)
```

ู ุฏู ููุง ุจุชุดูู ุงููููุฉ ุงููุฏููุฉ ูู ุงู state ู ุชุญุท ุงููููุฉ ุงูุฌุฏูุฏุฉ.

ุงู ุงูู ุชุฏููุง updater function ู ุฏู ุจุชููู function ุจุชุงุฎุฏ parameter ูุงุญุฏ ุนุจุงุฑุฉ ุนู ูููุฉ ุงู state ุงููุฏููุฉ ู ุงู return ุจุชุงุนูุง ุจูููู ูู ุงููููุฉ ุงูุฌุฏูุฏุฉ ูู state ุฒู ูุฏู:

```ts
setCounter(c => c + 10)
```

ู ุงููุซุงู ุฏู ุนูุฏูุง function ุจุชุงุฎุฏ parameter ุงุณูู c ุนุจุงุฑุฉ ุนู ูููุฉ counter ุงูุญุงููุฉ ุงูู ุงุญูุง ุญุทููุงูุง ุจ 10 ู ุงููุซุงู ุงูู ูุงุช ู ุจุชุฑุฌุน c + 10 ุงูู ูู ูุชุจูู 20 ู ุฏู ุจุชููู ูููุฉ counter ุงูุฌุฏูุฏุฉ.

ุทุจ ูุฏู ุงูู ุงููุฑู ูุง ุจูู ุงูุงุชููู ุ ุฎูููุง ูุดูู ูุซุงู: -

ุงููุงุช ูุชูุฑ ุจูุญุชุงุฌ ูุนุฏู ุงู state ุจูุงุก ุนูู ูููุฉ ุงู state ููุณูุง ุฒู ูุซูุง ูู ุนูุฏู counter ู ุนุงูุฒ ููุง ุชุถุบุท ุฒุฑุงุฑ ูุนูู ุชุฒูุฏู ุจ 1 ูููู ุชุณุชุฎุฏู ุงูุทุฑููุชูู:

```ts
setCounter( counter + 1 )
setCounter( c => c + 1 )
```

### ุชุบููุฑ ุงู state ุงูุชุฑ ูู ูุฑุฉ ูู ููุณ ุงูููุงู.

ู ุงููุซุงู ุฏู ุงููุฑู ูุง ุจูููู ูุด ูุจูุฑ ุจุณ ุงููุฑู ููุจุงู ุงูุชุฑ ูู ุญุงููุช ูุซูุง ุงูู ุชูุงุฏู setCounter ุงูุชุฑ ูู ูุฑุฉ ูู ููุณ ุงู function ู ูููุชุฑุถ ูุซูุง ุงู ุงู counter ูููุชู 0 ู ุงูุช ุนุงูุฒ ููุง ูุถุบุท ุนุงูุฒุฑุงุฑ ุชุฒูุฏู 2 ู ูุชุนูู ูุฏู:

```ts
setCounter( counter + 1 )
setCounter( counter + 1 )
```

ูุชูุฌู ุจุนุฏูุง ุชุดูู ุงู counter ูุชูุงููู ูููุชู ุจ 1 ูุด 2 ูุน ุงูู ุนููุช setCounter ูุฑุชููุ ุจุณ ูููุ

ุงููุดููุฉ ููุง ุงู ุงูุณุทุฑูู ุงูู ููู ูููู ุจูุนููู setCounter ุจููุณ ุงููููุฉ ู ุฏู ุจูุญุตู ูุงู ูููุฉ counter ูุด ุจุชุชุบูุฑ ุจุนุฏ ูู ุณุทุฑ ุนุดุงู ูุฏู ููุช ูุง ุงูุช ูุชุจุช ุงู setCounter ู ุงูrender ุฏู ูุงูุช ูููุฉ counter ุจ 0 ู ุจุงูุชุงูู ูููู ุดุงูููููุง 0.

ุฏู ูุงู react ูุด ุจุชุบูุฑ ู ุงู state ุงูู ุงูุง ุชุดูู ุงูsetter function ูุง ูู ุจุชุดูู ูู ุญุงุฌุฉ ุจุชุนูู setState ู ุชุญุทูุง ู queue ู ุจุชููุฐูุง ุจุนุฏูู ูุฑุฉ ูุงุญุฏุฉ ุจุงูุชุงูู ุงูููุงู ุงูู ููุชูุจ ููู ุจูุชู ุชูููุฐู ูุฏู:

```ts
setCounter( counter + 1 ) // setCounter( 0 + 1 )
setCounter( counter + 1 ) // setCounter( 0 + 1 )
```

ูุงููู ูุนุชูุฏูู ุนูู ูููุฉ counter ุงูู ูุณู ูุชุนูููุงุด update ู ูู ุนุงูุฒ ุชุชุฃูุฏ ูููู ุชุนูู console.log(counter) ุจุนุฏ ุงู setCounter ูุชูุงููู ููุงู ุจ 0.

ุงูุทุฑููุฉ ุงูุตุญ ููุง ุงูู ุชุณุชุฎุฏู updater function ุฌูู ุงู setCounter ูุงููุง ุจุชุงุฎุฏ ุงุฎุฑ ูููุฉ ูู state ููุช ูุง ุชูุฌู ุชุนูู update ูููููุฉ ู rerender ูู component ูุด ููุช ูุง ุงูุช ุชุณุชุฎุฏููุง ู ููุง ุชูุฌู ุชุนูููุง ุงูุชุฑ ูู ูุฑุฉ ูุฑุง ุจุนุถ ููุง ุชูุฌู ุชุชููุฐ ูููุชูุง ูุชุชุญุท ุตุญ ุฒู ูุฏู:
```ts
// c = 0
setCounter(c => c + 1) // 0 => 0 + 1 = 1
// c = 1
setCounter(c => c + 1) // 1 => 1 + 1 = 2
```
ู ู ุงูููุงูุฉ ูููุฉ ุงู counter ูุชููู 2 ุจุนุฏ ูุง ูุญุตู rerender.

ุงู ูููู ุชุฑูุญ ููุณู ูู ูู ุฏู ู ุชุนูู
```ts
setCounter(counter + 2)
```


ุจุณ ุณุงุนุชูุง ูุด ููุจูู ุนูุฏูุง ูุซุงู ๐

### ุชูููู ุงู dependencies.

ูุฑู ุชุงูู ุจูููู ู ููุงู ููุฒุฉ ูู updater function ุงููุง ูุด ุจุชุนุชูุฏ ุนูู ุงู ุญุงุฌุฉ ูู ุจุฑุง ุงู updater functionุ ู ูู ุงูุช ูุซูุง ุจุชุณุชุฎุฏููุง ูู ุฌูู ุงู ุญุงุฌุฉ ูููุง dependency array ุฒู use Effect ูุด ูุชุญุชุงุฌ ุงูู ุชุญุท ุงู state ุงููุฏููุฉ ู dependency ูููุง.

ู ูุซูุง ูู ุนูุฏูุง timer ูุณูุชู ุจุชุฒูุฏ ูู ุซุงููุฉ ุจูุงุญุฏ ูู ุงูุนุงุฏู ููุนููู ูุฏู:
```ts showLineNumbers
import {useState, useEffect} from "react"

fucntion App(){
	const [count, setCount] = useState(0);
	useEffect(()=>{
		let timer = setInterval(()=>setCount(count + 1), 1000)
		return ()=> clearInterval(timer);
	}, [count])
	
	return <p> {count} </p>
}
```

ูุชูุงุญุธ ุงู ุงู effect ุจูุนุชูุฏ ุนูู ูููุฉ ุงู count ู ูู ูุง ูุชุบูุฑ ูุชูุงูู ุงู effect ุจูุดุชุบู ุชุงูู ู ูููู ูุนูู ูุดุงูู ู ุงู performance, ุงูุญู ุงูุงุญุณู ุงููุง ูุณุชุฎุฏู ุงู updater function ุนุดุงู ููุบู ุงุนุชูุงุฏูุฉ ุงู effect ุนูู ุงู count, ุฒู ูุฏู: 

```ts showLineNumbers diff lang="ts"
import {useState, useEffect} from "react"

fucntion App(){
	const [count, setCount] = useState(0);
	useEffect(()=>{
		-let timer = setInterval(()=>setCount(count + 1), 1000)
		+let timer = setInterval(()=>setCount(c => c+1), 1000)
		return ()=> clearInterval(timer);
	}, [])
	
	return <p> {count} </p>
}
```


ูู ุนุฌุจู ุงูููุงู ูุชูุณุงุด ุชูุดุฑู ูุน ุงุตุญุงุจู ู ุนูู ููุงูุน ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ู ุงูู ุญุงุฌุฉ ูุชูุณุงุด ุชุจุต ุนุงููุตุงุฏุฑ ุชุญุช ๐๐ผ
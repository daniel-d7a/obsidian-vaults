---
title: Ø§ÙŠÙ‡ Ù‡Ùˆ Ø§Ù„ updater function ÙÙŠ useState?
pub_date: 2024-12-27
date_started: 2024-12-28
intro: ØªØ¹Ø§Ù„Ùˆ Ù†ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ useState hook Ùˆ Ù†Ø´ÙˆÙ Ø§Ø²Ø§ÙŠ Ù†Ù‚Ø¯Ø± Ù†Ø³ØªØ®Ø¯Ù…Ù‡ Ø¨Ø´ÙƒÙ„ Ø§Ø­Ø³Ù†
published: true
tags:
  - react/hooks
  - my_articles
---

ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ø¯ÙŠ Ù‡Ù†ØªÙƒÙ„Ù… Ø¹Ù† Ø´ÙˆÙŠØ© Ø®ØµØ§Ø¦Øµ ÙÙŠ Ø§Ù„ use state hook Ùˆ Ù†ÙÙ‡Ù… Ø§Ø²Ø§ÙŠ Ù†Ù‚Ø¯Ø± Ù†Ø³ØªØ®Ø¯Ù…Ù‡ Ø¨Ø§Ø­Ø³Ù† Ø´ÙƒÙ„ Ù…Ù…ÙƒÙ†.

## Ø§Ù„ updater function.

ÙƒÙ„Ù†Ø§ Ø¹Ø§Ø±ÙÙŠÙ† Ø§Ù†Ù‡ Ø¨ÙŠØ³ØªØ®Ø¯Ù… Ø¹Ø´Ø§Ù† ÙŠØ­ÙØ¸ Ø§Ù„Ø¯Ø§ØªØ§ Ø¬ÙˆÙ‡ Ø§Ù„ components Ø¨ØªØ§Ø¹ØªÙ†Ø§ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù†Ù‡ Ø¨ÙŠØ±Ø¬Ø¹Ù„Ùƒ variable Ø´Ø§ÙŠÙ„ Ø§Ù„Ø¯Ø§ØªØ§ Ùˆ setter function Ø¹Ø´Ø§Ù† ØªØºÙŠØ± Ø¨ÙŠÙ‡Ø§ Ø§Ù„Ø¯Ø§ØªØ§ Ùˆ ØªØ¹Ù…Ù„ rerender Ù„Ù„ component Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ØªØ§Ù„ÙŠ:

```ts
const [counter, setCounter] = useState()
```

Ø§Ù„ setter function Ù…Ù…ÙƒÙ† ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¨Ø·Ø±ÙŠÙ‚ØªÙŠÙ† ÙŠØ§ Ø§Ù…Ø§ Ø§Ù†Ùƒ ØªØ¯ÙŠÙ‡Ø§ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø± Ø²ÙŠ ÙƒØ¯Ù‡:

```ts
setCounter(10)
```

Ùˆ Ø¯ÙŠ Ù‡Ù†Ø§ Ø¨ØªØ´ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ù† Ø§Ù„ state Ùˆ ØªØ­Ø· Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.

Ø§Ùˆ Ø§Ù†Ùƒ ØªØ¯ÙŠÙ‡Ø§ updater function Ùˆ Ø¯ÙŠ Ø¨ØªÙƒÙˆÙ† function Ø¨ØªØ§Ø®Ø¯ parameter ÙˆØ§Ø­Ø¯ Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ù‚ÙŠÙ…Ø© Ø§Ù„ state Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ùˆ Ø§Ù„ return Ø¨ØªØ§Ø¹Ù‡Ø§ Ø¨ÙŠÙƒÙˆÙ† Ù‡Ùˆ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ state Ø²ÙŠ ÙƒØ¯Ù‡:

```ts
setCounter(c => c + 10)
```

Ù Ø§Ù„Ù…Ø«Ø§Ù„ Ø¯Ù‡ Ø¹Ù†Ø¯Ù†Ø§ function Ø¨ØªØ§Ø®Ø¯ parameter Ø§Ø³Ù…Ù‡ c Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ù‚ÙŠÙ…Ø© counter Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø§Ù„ÙŠ Ø§Ø­Ù†Ø§ Ø­Ø·ÙŠÙ†Ø§Ù‡Ø§ Ø¨ 10 Ù Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„ÙŠ ÙØ§Øª Ùˆ Ø¨ØªØ±Ø¬Ø¹ c + 10 Ø§Ù„ÙŠ Ù‡ÙŠ Ù‡ØªØ¨Ù‚Ù‰ 20 Ùˆ Ø¯ÙŠ Ø¨ØªÙƒÙˆÙ† Ù‚ÙŠÙ…Ø© counter Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.

Ø·Ø¨ ÙƒØ¯Ù‡ Ø§ÙŠÙ‡ Ø§Ù„ÙØ±Ù‚ Ù…Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø§ØªÙ†ÙŠÙ† ØŸ Ø®Ù„ÙŠÙ†Ø§ Ù†Ø´ÙˆÙ Ù…Ø«Ø§Ù„: -

Ø§ÙˆÙ‚Ø§Øª ÙƒØªÙŠØ± Ø¨Ù†Ø­ØªØ§Ø¬ Ù†Ø¹Ø¯Ù„ Ø§Ù„ state Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„ state Ù†ÙØ³Ù‡Ø§ Ø²ÙŠ Ù…Ø«Ù„Ø§ Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ counter Ùˆ Ø¹Ø§ÙˆØ² Ù„Ù…Ø§ ØªØ¶ØºØ· Ø²Ø±Ø§Ø± Ù…Ø¹ÙŠÙ† ØªØ²ÙˆØ¯Ù‡ Ø¨ 1 Ù…Ù…ÙƒÙ† ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚ØªÙŠÙ†:

```ts
setCounter( counter + 1 )
setCounter( c => c + 1 )
```

### ØªØºÙŠÙŠØ± Ø§Ù„ state Ø§ÙƒØªØ± Ù…Ù† Ù…Ø±Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…ÙƒØ§Ù†.

Ù Ø§Ù„Ù…Ø«Ø§Ù„ Ø¯Ù‡ Ø§Ù„ÙØ±Ù‚ Ù…Ø§ Ø¨ÙŠÙ†Ù‡Ù… Ù…Ø´ ÙƒØ¨ÙŠØ± Ø¨Ø³ Ø§Ù„ÙØ±Ù‚ Ù‡ÙŠØ¨Ø§Ù† Ø§ÙƒØªØ± Ù„Ùˆ Ø­Ø§ÙˆÙ„Øª Ù…Ø«Ù„Ø§ Ø§Ù†Ùƒ ØªÙ†Ø§Ø¯ÙŠ setCounter Ø§ÙƒØªØ± Ù…Ù† Ù…Ø±Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ function Ùˆ Ù„Ù†ÙØªØ±Ø¶ Ù…Ø«Ù„Ø§ Ø§Ù† Ø§Ù„ counter Ù‚ÙŠÙ…ØªÙ‡ 0 Ùˆ Ø§Ù†Øª Ø¹Ø§ÙˆØ² Ù„Ù…Ø§ ÙŠØ¶ØºØ· Ø¹Ø§Ù„Ø²Ø±Ø§Ø± ØªØ²ÙˆØ¯Ù‡ 2 Ù Ù‡ØªØ¹Ù…Ù„ ÙƒØ¯Ù‡:

```ts
setCounter( counter + 1 )
setCounter( counter + 1 )
```

Ù‡ØªÙŠØ¬ÙŠ Ø¨Ø¹Ø¯Ù‡Ø§ ØªØ´ÙˆÙ Ø§Ù„ counter Ù‡ØªÙ„Ø§Ù‚ÙŠÙ‡ Ù‚ÙŠÙ…ØªÙ‡ Ø¨ 1 Ù…Ø´ 2 Ù…Ø¹ Ø§Ù†Ùƒ Ø¹Ù…Ù„Øª setCounter Ù…Ø±ØªÙŠÙ†ØŒ Ø¨Ø³ Ù„ÙŠÙ‡ØŸ

Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù‡Ù†Ø§ Ø§Ù† Ø§Ù„Ø³Ø·Ø±ÙŠÙ† Ø§Ù„ÙŠ ÙÙˆÙ‚ ÙƒÙ„Ù‡Ù… Ø¨ÙŠØ¹Ù…Ù„Ùˆ setCounter Ø¨Ù†ÙØ³ Ø§Ù„Ù‚ÙŠÙ…Ø© Ùˆ Ø¯Ù‡ Ø¨ÙŠØ­ØµÙ„ Ù„Ø§Ù† Ù‚ÙŠÙ…Ø© counter Ù…Ø´ Ø¨ØªØªØºÙŠØ± Ø¨Ø¹Ø¯ ÙƒÙ„ Ø³Ø·Ø± Ø¹Ø´Ø§Ù† ÙƒØ¯Ù‡ ÙˆÙ‚Øª Ù…Ø§ Ø§Ù†Øª ÙƒØªØ¨Øª Ø§Ù„ setCounter Ù Ø§Ù„render Ø¯Ù‡ ÙƒØ§Ù†Øª Ù‚ÙŠÙ…Ø© counter Ø¨ 0 Ùˆ Ø¨Ø§Ù„ØªØ§Ù„ÙŠ ÙƒÙ„Ù‡Ù… Ø´Ø§ÙŠÙÙŠÙ†Ù‡Ø§ 0.

Ø¯Ù‡ Ù„Ø§Ù† react Ù…Ø´ Ø¨ØªØºÙŠØ± Ù Ø§Ù„ state Ø§ÙˆÙ„ Ø§Ù…Ø§ ØªØ´ÙˆÙ Ø§Ù„setter function Ù„Ø§ Ù‡ÙŠ Ø¨ØªØ´ÙˆÙ ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø¨ØªØ¹Ù…Ù„ setState Ùˆ ØªØ­Ø·Ù‡Ø§ Ù queue Ùˆ Ø¨ØªÙ†ÙØ°Ù‡Ø§ Ø¨Ø¹Ø¯ÙŠÙ† Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¨Ø§Ù„ØªØ§Ù„ÙŠ Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„ÙŠ Ù…ÙƒØªÙˆØ¨ ÙÙˆÙ‚ Ø¨ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡ ÙƒØ¯Ù‡:

```ts
setCounter( counter + 1 ) // setCounter( 0 + 1 )
setCounter( counter + 1 ) // setCounter( 0 + 1 )
```

Ù„Ø§Ù†Ù‡Ù… Ù…Ø¹ØªÙ…Ø¯ÙŠÙ† Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© counter Ø§Ù„ÙŠ Ù„Ø³Ù‡ Ù…ØªØ¹Ù…Ù„Ù‡Ø§Ø´ update Ùˆ Ù„Ùˆ Ø¹Ø§ÙˆØ² ØªØªØ£ÙƒØ¯ Ù…Ù…ÙƒÙ† ØªØ¹Ù…Ù„ console.log(counter) Ø¨Ø¹Ø¯ Ø§Ù„ setCounter Ù‡ØªÙ„Ø§Ù‚ÙŠÙ‡ ÙƒÙ…Ø§Ù† Ø¨ 0.

Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØµØ­ Ù‡Ù†Ø§ Ø§Ù†Ùƒ ØªØ³ØªØ®Ø¯Ù… updater function Ø¬ÙˆÙ‡ Ø§Ù„ setCounter Ù„Ø§Ù†Ù‡Ø§ Ø¨ØªØ§Ø®Ø¯ Ø§Ø®Ø± Ù‚ÙŠÙ…Ø© Ù„Ù„ state ÙˆÙ‚Øª Ù…Ø§ ØªÙŠØ¬ÙŠ ØªØ¹Ù…Ù„ update Ù„Ù„Ù‚ÙŠÙ…Ø© Ùˆ rerender Ù„Ù„ component Ù…Ø´ ÙˆÙ‚Øª Ù…Ø§ Ø§Ù†Øª ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ù Ù„Ù…Ø§ ØªÙŠØ¬ÙŠ ØªØ¹Ù…Ù„Ù‡Ø§ Ø§ÙƒØªØ± Ù…Ù† Ù…Ø±Ø© ÙˆØ±Ø§ Ø¨Ø¹Ø¶ Ù„Ù…Ø§ ØªÙŠØ¬ÙŠ ØªØªÙ†ÙØ° Ù‚ÙŠÙ…ØªÙ‡Ø§ Ù‡ØªØªØ­Ø· ØµØ­ Ø²ÙŠ ÙƒØ¯Ù‡:

```ts
// c = 0
setCounter(c => c + 1) // 0 => 0 + 1 = 1
// c = 1
setCounter(c => c + 1) // 1 => 1 + 1 = 2
```

Ùˆ Ù Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‚ÙŠÙ…Ø© Ø§Ù„ counter Ù‡ØªÙƒÙˆÙ† 2 Ø¨Ø¹Ø¯ Ù…Ø§ ÙŠØ­ØµÙ„ rerender.

Ø§Ùˆ Ù…Ù…ÙƒÙ† ØªØ±ÙŠØ­ Ù†ÙØ³Ùƒ Ù…Ù† ÙƒÙ„ Ø¯Ù‡ Ùˆ ØªØ¹Ù…Ù„

```ts
setCounter(counter + 2)
```

Ø¨Ø³ Ø³Ø§Ø¹ØªÙ‡Ø§ Ù…Ø´ Ù‡ÙŠØ¨Ù‚Ù‰ Ø¹Ù†Ø¯Ù†Ø§ Ù…Ø«Ø§Ù„ ğŸ˜‰

### ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ dependencies.

ÙØ±Ù‚ ØªØ§Ù†ÙŠ Ø¨ÙŠÙ†Ù‡Ù… Ùˆ ÙƒÙ…Ø§Ù† Ù…ÙŠØ²Ø© Ù„Ù„ updater function Ø§Ù†Ù‡Ø§ Ù…Ø´ Ø¨ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§ÙŠ Ø­Ø§Ø¬Ø© Ù…Ù† Ø¨Ø±Ø§ Ø§Ù„ updater functionØŒ Ù Ù„Ùˆ Ø§Ù†Øª Ù…Ø«Ù„Ø§ Ø¨ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ù…Ù† Ø¬ÙˆÙ‡ Ø§ÙŠ Ø­Ø§Ø¬Ø© Ù„ÙŠÙ‡Ø§ dependency array Ø²ÙŠ use Effect Ù…Ø´ Ù‡ØªØ­ØªØ§Ø¬ Ø§Ù†Ùƒ ØªØ­Ø· Ø§Ù„ state Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ùƒ dependency Ù„ÙŠÙ‡Ø§.

Ù Ù…Ø«Ù„Ø§ Ù„Ùˆ Ø¹Ù†Ø¯Ù†Ø§ timer Ù‚Ø³Ù…ØªÙ‡ Ø¨ØªØ²ÙŠØ¯ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© Ø¨ÙˆØ§Ø­Ø¯ ÙÙŠ Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ù‡Ù†Ø¹Ù…Ù„Ù‡ ÙƒØ¯Ù‡:

```ts showLineNumbers
import {useState, useEffect} from "react"

fucntion App(){
	const [count, setCount] = useState(0);
	useEffect(()=>{
		let timer = setInterval(()=>setCount(count + 1), 1000)
		return ()=> clearInterval(timer);
	}, [count])
	
	return <p> {count} </p>
}
```

Ù‡ØªÙ„Ø§Ø­Ø¸ Ø§Ù† Ø§Ù„ effect Ø¨ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„ count Ùˆ ÙƒÙ„ Ù…Ø§ ÙŠØªØºÙŠØ± Ù‡ØªÙ„Ø§Ù‚ÙŠ Ø§Ù„ effect Ø¨ÙŠØ´ØªØºÙ„ ØªØ§Ù†ÙŠ Ùˆ Ù…Ù…ÙƒÙ† ÙŠØ¹Ù…Ù„ Ù…Ø´Ø§ÙƒÙ„ Ù Ø§Ù„ performance, Ø§Ù„Ø­Ù„ Ø§Ù„Ø§Ø­Ø³Ù† Ø§Ù†Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ updater function Ø¹Ø´Ø§Ù† Ù†Ù„ØºÙŠ Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ© Ø§Ù„ effect Ø¹Ù„Ù‰ Ø§Ù„ count, Ø²ÙŠ ÙƒØ¯Ù‡:

```ts showLineNumbers diff lang="ts"
import {useState, useEffect} from "react"

fucntion App(){
	const [count, setCount] = useState(0);
	useEffect(()=>{
		-let timer = setInterval(()=>setCount(count + 1), 1000)
		+let timer = setInterval(()=>setCount(c => c+1), 1000)
		return ()=> clearInterval(timer);
	}, [])
	
	return <p> {count} </p>
}
```

Ù„Ùˆ Ø¹Ø¬Ø¨Ùƒ Ø§Ù„Ù…Ù‚Ø§Ù„ Ù…ØªÙ†Ø³Ø§Ø´ ØªÙ†Ø´Ø±Ù‡ Ù…Ø¹ Ø§ØµØ­Ø§Ø¨Ùƒ Ùˆ Ø¹Ù„Ù‰ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ùˆ Ø§Ù‡Ù… Ø­Ø§Ø¬Ø© Ù…ØªÙ†Ø³Ø§Ø´ ØªØ¨Øµ Ø¹Ø§Ù„Ù…ØµØ§Ø¯Ø± ØªØ­Øª ğŸ‘‡ğŸ¼

## References

- https://react.dev/learn/state-as-a-snapshot
- https://react.dev/learn/queueing-a-series-of-state-updates
- [[My articles]]
